{% extends "base.html" %}
{% block title %}Checkout{% endblock %}

{% block content %}
<div class="container py-5 text-white">
  <h2 class="mb-4">Checkout</h2>

  <!-- Order Summary -->
  <div class="mb-4">
    <h4>Order Summary</h4>
    <ul class="list-group">
      {% for item in cart %}
        <li class="list-group-item d-flex justify-content-between align-items-center bg-dark text-white">
          {{ item.product.name }} (x{{ item.quantity }})
          <span>£{{ item.total_price }}</span>
        </li>
      {% endfor %}
      <li class="list-group-item d-flex justify-content-between bg-secondary text-white fw-bold">
        Total:
        <span>£{{ cart.get_total_price }}</span>
      </li>
    </ul>
  </div>

  <!-- Checkout Form -->
  <form method="POST" class="bg-dark p-4 rounded shadow">
    {% csrf_token %}
    {{ form.as_p }}

    <button type="submit" class="btn btn-success mt-3">Place Order</button>
  </form>
</div>
{% endblock %}
